---
create: 2024-04-22
---
# Refs
| #   | link                                   | 
| --- | -------------------------------------- |
| 1   | [[~Java эффективное программирование]] |

### Создание и уничтожение объектов
#### Рассмотрите применение статических фабричных методов вместо конструкторов
##### Плюсы:
- имею имена;
- не обязаны создавать новые объекты при каждом вызове;
- могут возвращать объект любого подтипа их возвращаемого типа(в сигнатуре);
- класс возвращенного объекта может варьироваться в зависимости от входных параметров;
- класс возвращаемого объекта не обязан существовать во время разработки класса, содержащего метод.
##### Минусы:
- классы  без открытых или защищенных конструкторов не могут порождать подклассы (скорее плюс, так как требует заменить наследование на композицию);
- трудно отличить от других статических методов(это к документации).
##### Именование
- *from* - метод преобразования типа, который получает один параметр и возвращает соответствующий экземпляр требуемого типа 
```java
Date d = Date.from(instant);
```
- *of* - метод агрегации, который получает несколько параметров и возвращает соответствующий экземпляр требуемого типа, объединяющий их
```java
Set<Rank> faceCards = EnumSet.of(JACK, QUEEN, KING);
```
- *valueOf* - более многословная альтернатива *from* и *of*
```java
BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);
```
- *instance* | *getInstance* - возвращает экземпляр, описываемый параметрами(если таковые имеются), но о котором нельзя сказать, что он имеет то же значение
```java
StackWalker luke = StackWalker.getInstance(options);
```
- *create* | *newInstance* - подобен *instance* | *getInstance* , но отилчается тем, что гарантирует, что каждый вызов дает новый экземпляр
```java
Object newArray = Array.newInstance(classObject, arrayLength);
```
- *getType* - подобен *getInstance*, но используется, если фабричный метод находится в другом классе, где *Type* - тип объекта, возвращаемого фабричным методом
```java
FileStore fs = Files.getFileStore(path);
```
- *newType* - подобен *newInstance*, но используется, если фабричный метод находится в другом классе, где *Type* - тип объекта, возвращаемого фабричным методом
```java
BufferedReader br = Files.newBufferedReader(path);
```
- *type* - краткая альтернатива для *getType* и *newType*, где *type* - тип объекта, возвращаемого фабричным методом
```java
List<Complaint> litany = Collections.list(lagacyLitany);
```